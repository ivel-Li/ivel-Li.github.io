<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>ç¥ç»ç½‘ç»œåˆå§‹åŒ–é—®é¢˜ | Ivel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="logï¼š 2024&#x2F;11&#x2F;22ï¼šéƒ¨åˆ†å›¾ç‰‡ 1234import numpyfrom numpy import randomimport matplotlib.pyplot as pltimport math åˆå§‹åŒ–æƒé‡é¢„å®éªŒï¼šã€è¾“å…¥ã€‘å¸¸è§åšæ³•ï¼šå°†è¾“å…¥å€¼ç¼©æ”¾åˆ°å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒä¸­ã€‚ ã€æƒå€¼ã€‘åˆå§‹åŒ–ï¼šè‹¥é‡‡ç”¨ç›¸åŒçš„æ ‡å‡†æ­£æ€åˆ†å¸ƒ$N(0,1)$ 12345x&#x3D;random.normal(loc">
<meta property="og:type" content="article">
<meta property="og:title" content="ç¥ç»ç½‘ç»œåˆå§‹åŒ–é—®é¢˜">
<meta property="og:url" content="https://ivel-li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/index.html">
<meta property="og:site_name" content="Ivel">
<meta property="og:description" content="logï¼š 2024&#x2F;11&#x2F;22ï¼šéƒ¨åˆ†å›¾ç‰‡ 1234import numpyfrom numpy import randomimport matplotlib.pyplot as pltimport math åˆå§‹åŒ–æƒé‡é¢„å®éªŒï¼šã€è¾“å…¥ã€‘å¸¸è§åšæ³•ï¼šå°†è¾“å…¥å€¼ç¼©æ”¾åˆ°å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒä¸­ã€‚ ã€æƒå€¼ã€‘åˆå§‹åŒ–ï¼šè‹¥é‡‡ç”¨ç›¸åŒçš„æ ‡å‡†æ­£æ€åˆ†å¸ƒ$N(0,1)$ 12345x&#x3D;random.normal(loc">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://ivel-li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/tanhx&amp;softsign.png">
<meta property="og:image" content="https://ivel-li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/Xavier%E7%9A%84%E6%8F%90%E5%8D%87.png">
<meta property="og:image" content="https://ivel-li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/He%E5%88%9D%E5%A7%8B%E5%8C%96%E7%AD%96%E7%95%A5.png">
<meta property="og:image" content="https://ivel-li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/%E5%AF%B9%E6%AF%94x&amp;h.png">
<meta property="article:published_time" content="2024-11-21T15:07:34.000Z">
<meta property="article:modified_time" content="2024-11-22T13:44:40.803Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ivel-li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/tanhx&amp;softsign.png">
  
    <link rel="alternate" href="https://ivel-li.github.io/atom.xml" title="Ivel" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="https://ivel-li.github.io/favicon.ico">
  
  
  
<link rel="stylesheet" href="https://ivel-li.github.io/css/style.css">

  
    
<link rel="stylesheet" href="https://ivel-li.github.io/fancybox/jquery.fancybox.min.css">

  
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" rel="stylesheet" type="text/css">
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>


<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="https://ivel-li.github.io/" id="logo">Ivel</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="https://ivel-li.github.io/" id="subtitle">Greeting, welcome to my blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="https://ivel-li.github.io/">Home</a>
        
          <a class="main-nav-link" href="https://ivel-li.github.io/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="https://ivel-li.github.io/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://ivel-Li.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-åˆå§‹åŒ–é—®é¢˜" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="https://ivel-li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/" class="article-date">
  <time class="dt-published" datetime="2024-11-21T15:07:34.000Z" itemprop="datePublished">2024-11-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="https://ivel-li.github.io/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">æ·±åº¦å­¦ä¹ </a>â–º<a class="article-category-link" href="https://ivel-li.github.io/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA%E4%B8%8Etrick/">ç½‘ç»œåŸºç¡€ç†è®ºä¸trick</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      ç¥ç»ç½‘ç»œåˆå§‹åŒ–é—®é¢˜
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!-- æ–‡ç« ç›®å½• -->
        
        <!-- Table of Contents -->
        <p><strong>logï¼š</strong></p>
<p>2024/11/22ï¼šéƒ¨åˆ†å›¾ç‰‡</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> math</span><br></pre></td></tr></table></figure>
<h2 id="åˆå§‹åŒ–æƒé‡é¢„å®éªŒï¼š"><a href="#åˆå§‹åŒ–æƒé‡é¢„å®éªŒï¼š" class="headerlink" title="åˆå§‹åŒ–æƒé‡é¢„å®éªŒï¼š"></a>åˆå§‹åŒ–æƒé‡é¢„å®éªŒï¼š</h2><p>ã€è¾“å…¥ã€‘å¸¸è§åšæ³•ï¼šå°†è¾“å…¥å€¼ç¼©æ”¾åˆ°å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒä¸­ã€‚</p>
<p>ã€æƒå€¼ã€‘åˆå§‹åŒ–ï¼šè‹¥é‡‡ç”¨ç›¸åŒçš„æ ‡å‡†æ­£æ€åˆ†å¸ƒ$N(0,1)$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))<span class="comment">#aå¯¹åº”æ¯å±‚ç¥ç»ç½‘ç»œä¸­çš„Wï¼š512*512</span></span><br><span class="line">    x=a@x</span><br><span class="line">x.mean(), x.std()<span class="comment">###å‘é‡.mean()è¾“å‡ºæ‰€æœ‰å…ƒç´ çš„å‡å€¼ï¼›.std()è¾“å‡ºæ‰€æœ‰å…ƒç´ æ ‡å‡†å·®</span></span><br></pre></td></tr></table></figure>
<pre><code>(7.943177084708433e+133, 2.849247295078971e+135)
</code></pre><p>å¦‚ä¸Šå¯è§‚å¯Ÿåˆ°ï¼Œåœ¨100å±‚çš„ç¥ç»ç½‘ç»œä¸­ï¼Œå¯¹åˆå€¼å’Œæƒé‡å–$N(0,1)$åˆ†å¸ƒï¼Œæœ€ç»ˆè¾“å‡ºæå¤§ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">0.01</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º0.01çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">0.01</span>, size=(<span class="number">512</span>,<span class="number">512</span>))</span><br><span class="line">    x=a@x</span><br><span class="line">x.mean(), x.std()</span><br></pre></td></tr></table></figure>
<pre><code>(3.0804500580946894e-69, 2.214484543669681e-67)
</code></pre><p>å¦‚ä¸Šå¯è§‚å¯Ÿåˆ°ï¼Œåœ¨100å±‚çš„ç¥ç»ç½‘ç»œä¸­ï¼Œå¯¹åˆå€¼å’Œæƒé‡å–$N(0,0.01)$åˆ†å¸ƒï¼Œæœ€ç»ˆè¾“å‡ºæå°ã€‚ï¼ˆps: åœ¨å–$N(0,0.1)$æ—¶è¾“å‡ºä¹Ÿå¾ˆå¤§ï¼‰</p>
<p><strong><em>å³ï¼šåˆå§‹åŒ–æƒé‡è¿‡å¤§è¿‡å°å‡ä¼šå½±å“å­¦ä¹ æ•ˆæœ</em></strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸Šå¼ä¸­y[i]è¡¨è¾¾å¼å¯æè¿°ä¸€å±‚ç¥ç»å…ƒçš„æ˜ å°„å…³ç³»</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mean, var=<span class="number">0.</span>,<span class="number">0.</span></span><br><span class="line"><span class="comment">#içš„å¤§å°ä¸ç¥ç»ç½‘ç»œå±‚æ•°æ— å…³ï¼Œæ„ä¹‰åªåœ¨äºiå¤Ÿå¤§æ—¶ç»“æœæ›´ç²¾ç¡®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>))</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))</span><br><span class="line">    y=a@x</span><br><span class="line">    mean+=y.mean().item()<span class="comment">#item()å‡½æ•°å–å€¼æ¯”ç´¢å¼•å–å€¼ç²¾åº¦æ›´é«˜</span></span><br><span class="line">    var+=numpy.multiply(y,y).mean().item()</span><br><span class="line">mean/<span class="number">1000</span>,math.sqrt(var/<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(-0.03692881605069143, 22.68767143694423)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">math.sqrt(<span class="number">512</span>)</span><br></pre></td></tr></table></figure>
<pre><code>22.627416997969522
</code></pre><p><strong>æ­¤æ—¶æˆ‘ä»¬æ³¨æ„åˆ°Yçš„æ ‡å‡†å·®$\frac{\Sigma_j^m mean(y_i^2)}{m}$ã€yå¹³å‡å€¼ä¸º0ã€‘, å…¶é€¼è¿‘xç»´æ•°ï¼ˆç¥ç»å…ƒä¸ªæ•°ï¼‰çš„å¹³æ–¹æ ¹ã€‚</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®ƒæ•™ä¼šäº†æˆ‘å¦‚ä½•è®¡ç®—å‡å€¼ä¸º0çš„ä¸€ç»„æ•°æ®çš„æ ‡å‡†å·®ï¼ˆé€šè¿‡D(X)=E(X^2))ã€‚</span></span><br><span class="line">mean, var=<span class="number">0.</span>,<span class="number">0.</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>))</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))</span><br><span class="line">    y=a@x</span><br><span class="line">    mean+=y.mean().item()<span class="comment">#item()å‡½æ•°å–å€¼æ¯”ç´¢å¼•å–å€¼ç²¾åº¦æ›´é«˜ï¼ˆä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼‰</span></span><br><span class="line">    var+=numpy.multiply(y,y).mean().item()</span><br><span class="line">mean/<span class="number">1000</span>,math.sqrt(var/<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(-0.02495151144918943, 22.6154885506345)
</code></pre><p>ä¸€äº›æ•°å­¦æ¨å¯¼ï¼š</p>
<font color="grey" size="1">

æ–¹å·®$D(X)=Eï¼ˆ[X-E(X)]^2ï¼‰$

$D(XY)=E([XY-E(XY)]^2)$

åˆå½“X,Yç›¸äº’ç‹¬ç«‹æ—¶ï¼Œæœ‰$E(XY)=E(X)E(Y)$

æ•…æœ‰$D(XY)=E(X^2Y^2+E^2(XY)-2XYE(XY))$

å½“Xï¼ŒYæ»¡è¶³æ­£æ€åˆ†å¸ƒ$N(0,1)$ï¼Œæœ‰$D(XY)=E(X^2Y^2)=E(X^2)E(Y^2)=D(X)D(Y)$

$D(X+Y)=Eï¼ˆ[X+Y-E(X+Y)]^2ï¼‰=Eï¼ˆ[X+Y]^2)=E(X^2)+E(Y^2)+2E(XY)=E(X^2)+E(Y^2)=D(X)+D(Y)$
</font>

<p>æœ‰äº†ä¸Šè¿°ç»“è®ºï¼Œå¯¹$N(0,1)$åˆ†å¸ƒçš„$X,Y$è€Œè¨€ï¼Œæœ‰$D(XY)=D(X)D(Y),D(X+Y)=D(X)+D(Y)$ã€‚</p>
<p>å› æ­¤ä¸Šè¿°ä»£ç ä¸­ï¼ŒYçš„æ¯ä¸ªå…ƒç´ æ–¹å·®ä¸º512ã€‚</p>
<p>ä¸Šé¢ä»£ç å—ä¸­varä¸­å³å¼å®é™…ä¸Šä¸º$Eï¼ˆY^2)$ï¼Œå½“iè¿­ä»£æ¬¡æ•°å¤Ÿå¤§æ±‚å’Œå¹³å‡ç­‰ä»·äº$D(Y)$ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mean, var=<span class="number">0.</span>,<span class="number">0.</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>))</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">1.</span>/<span class="number">512</span>)<span class="comment">#D(cX)=c^2 D(X)</span></span><br><span class="line">    y=a@x</span><br><span class="line">    mean+=y.mean().item()</span><br><span class="line">    var+=numpy.multiply(y,y).mean().item()</span><br><span class="line">mean/<span class="number">1000</span>,math.sqrt(var/<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(-0.0009292457617292619, 0.9998508585319182)
</code></pre><p> <strong>ç”±ä¸Šå¯è§ï¼ŒæŠŠ$N(0,1)$çš„åˆå§‹åŒ–æƒå€¼ç¼©æ”¾è‡³$1/\sqrt{n}$åè¾“å‡ºå±‚ä¸å†å‡ºç°çˆ†ç‚¸ã€‚</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">1.</span>/<span class="number">512</span>)</span><br><span class="line">    x=a@x</span><br><span class="line">x.mean(), x.std()</span><br></pre></td></tr></table></figure>
<pre><code>(-0.013509481923589781, 0.669791021961652)
</code></pre><p><strong>ç”±ä¸Šå¯è§ï¼ŒæŠŠ$N(0,1)$çš„åˆå§‹åŒ–æƒå€¼ç¼©æ”¾è‡³$1/\sqrt{n}$åè¾“å‡ºå±‚ï¼ˆå‡å€¼å’Œæ–¹å·®ï¼‰ä¸å†å‡ºç°çˆ†ç‚¸ã€‚å³ä¾¿åœ¨100å±‚åäº¦æ˜¯å¦‚æ­¤ã€‚</strong></p>
<h2 id="å½“æˆ‘ä»¬è€ƒè™‘æ¿€æ´»å‡½æ•°"><a href="#å½“æˆ‘ä»¬è€ƒè™‘æ¿€æ´»å‡½æ•°" class="headerlink" title="å½“æˆ‘ä»¬è€ƒè™‘æ¿€æ´»å‡½æ•°"></a>å½“æˆ‘ä»¬è€ƒè™‘æ¿€æ´»å‡½æ•°</h2><p>é¥±å’Œæ¿€æ´»å‡½æ•°Fï¼š$lim_{x-&gt;\infty}Fâ€™-&gt;0$</p>
<p>éé¥±å’Œæ¿€æ´»å‡½æ•°Fï¼š$lim_{x-&gt;\infty}Fâ€™ä¸è¶‹äº0$</p>
<p>å…¸å‹çš„<strong>é¥±å’Œå‡½æ•°</strong>æœ‰Sigmoidï¼ŒTanhå‡½æ•°ã€‚</p>
<p>ä¸æ»¡è¶³é¥±å’Œå‡½æ•°æ¡ä»¶çš„å‡½æ•°åˆ™ç§°ä¸º<strong>éé¥±å’Œæ¿€æ´»å‡½æ•°</strong>ã€‚</p>
<p>ReLUåŠå…¶å˜ä½“åˆ™æ˜¯â€œéé¥±å’Œæ¿€æ´»å‡½æ•°â€ã€‚</p>
<p>ä½¿ç”¨â€œéé¥±å’Œæ¿€æ´»å‡½æ•°â€çš„ä¼˜åŠ¿åœ¨äºä¸¤ç‚¹ï¼š</p>
<ol>
<li>â€œéé¥±å’Œæ¿€æ´»å‡½æ•°â€èƒ½è§£å†³æ‰€è°“çš„â€œæ¢¯åº¦æ¶ˆå¤±â€é—®é¢˜ã€‚</li>
</ol>
<ol>
<li>å®ƒèƒ½åŠ å¿«æ”¶æ•›é€Ÿåº¦ã€‚</li>
</ol>
<h3 id="Xavieråˆå§‹åŒ–ï¼ˆé€‚ç”¨äºé¥±å’Œæ¿€æ´»å‡½æ•°ï¼‰"><a href="#Xavieråˆå§‹åŒ–ï¼ˆé€‚ç”¨äºé¥±å’Œæ¿€æ´»å‡½æ•°ï¼‰" class="headerlink" title="Xavieråˆå§‹åŒ–ï¼ˆé€‚ç”¨äºé¥±å’Œæ¿€æ´»å‡½æ•°ï¼‰"></a>Xavieråˆå§‹åŒ–ï¼ˆé€‚ç”¨äºé¥±å’Œæ¿€æ´»å‡½æ•°ï¼‰</h3><p><img src="https://ivel-Li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/tanhx&amp;softsign.png" alt="image"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">1.</span>/<span class="number">512</span>)</span><br><span class="line">    x=numpy.array([math.tanh(c)<span class="keyword">for</span> c <span class="keyword">in</span> a@x])</span><br><span class="line">x.mean(), x.std()</span><br></pre></td></tr></table></figure>
<pre><code>(0.0008083661917762789, 0.05757114952184833)
</code></pre><p>å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œåœ¨ä¸€ç™¾å±‚ç¥ç»ç½‘ç»œåï¼Œxçš„å‡å€¼ä¸æ ‡å‡†å·®å€¼ä»å¤„äºæœ‰æ•ˆèŒƒå›´ï¼Œæ¿€æ´»æœªå®Œå…¨æ¶ˆå¤±ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=numpy.random.uniform(low=-<span class="number">1</span>,high=<span class="number">1</span>,size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1/3çš„å‡åŒ€åˆ†å¸ƒï¼ˆä»-1åˆ°1å–å€¼ï¼‰ï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">1.</span>/<span class="number">512</span>)</span><br><span class="line">    x=numpy.array([math.tanh(c)<span class="keyword">for</span> c <span class="keyword">in</span> a@x])</span><br><span class="line">x.mean(), x.std()</span><br></pre></td></tr></table></figure>
<pre><code>(0.0013361727805947863, 0.0572257326796936)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    <span class="comment">#æƒå€¼å–å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1/3çš„å‡åŒ€åˆ†å¸ƒï¼ˆä»-1åˆ°1å–å€¼ï¼‰ï¼Œ512*512ä¸ªæ•°æ®*1/n</span></span><br><span class="line">    a=numpy.random.uniform(low=-<span class="number">1</span>,high=<span class="number">1</span>,size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">1.</span>/<span class="number">512</span>)</span><br><span class="line">    x=numpy.array([math.tanh(c)<span class="keyword">for</span> c <span class="keyword">in</span> a@x])</span><br><span class="line">x.mean(), x.std()</span><br></pre></td></tr></table></figure>
<pre><code>(6.753492971342052e-26, 1.2087455023485755e-24)
</code></pre><p><strong>æ³¨æ„åˆ°ä¸¤ç§ç®—æ³•åŒºåˆ«åœ¨äºï¼Œä¸Šè¿°xçš„1/3æ–¹å·®åªå‡ºç°ä¸€æ¬¡ï¼Œå¤§é‡è¿­ä»£åä¸ä¼šå¯¹åç»­ç»“æœé€ æˆå½±å“ï¼Œåè€…ä»¤açš„æƒå€¼åˆå§‹åŒ–ä¸º1/3ï¼Œaä¼šå‡ºç°100æ¬¡ï¼Œå¯¼è‡´äº†æœ€ç»ˆæ¿€æ´»æ¢¯åº¦æ— ç©·å°ã€‚</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    <span class="comment">#æƒå€¼å–å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„å‡åŒ€åˆ†å¸ƒï¼ˆä»-sqrt3åˆ°sqrt3å–å€¼ï¼‰ï¼Œ512*512ä¸ªæ•°æ®*1/n</span></span><br><span class="line">    a=numpy.random.uniform(low=-<span class="number">1.73205081</span>,high=<span class="number">1.73205081</span>,size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">1.</span>/<span class="number">512</span>)</span><br><span class="line">    x=numpy.array([math.tanh(c)<span class="keyword">for</span> c <span class="keyword">in</span> a@x])</span><br><span class="line">x.mean(), x.std()</span><br></pre></td></tr></table></figure>
<pre><code>(0.0018487857398481779, 0.05713394734193917)
</code></pre><p><strong>å¦‚ä¸Šæ‰€ç¤ºï¼Œå½“aå–å‡åŒ€åˆ†å¸ƒä½†æ–¹å·®ä¸º1æ—¶ï¼Œ100æ¬¡è¿­ä»£åxçš„å‡å€¼ä¸æ ‡å‡†å·®å€¼ä»å¤„äºæœ‰æ•ˆèŒƒå›´ï¼Œæ¿€æ´»æœªå®Œå…¨æ¶ˆå¤±ã€‚</strong></p>
<p><strong>å› æ­¤ç¬”è€…çŒœæƒ³ï¼Œæˆ–è€…æ ¸å¿ƒåœ¨äºä½¿a@xï¼ˆæˆ–è€…è¯´ $W^TX$ ï¼‰çš„æ–¹å·®ä¸º1</strong></p>
<p>å¯¹äº<strong>Xavieråˆå§‹åŒ–</strong>æ–¹æ³•ï¼Œå…¶å°†<strong>æ¯å±‚çš„æƒé‡</strong>è®¾ç½®ä¸º:</p>
<p>$\pm\frac{\sqrt{6}}{\sqrt{n_i+n_{i+1}}}$</p>
<p>ä¸Šå¼ä¸­$n_i$ä¸ºä¼ å…¥è¯¥å±‚çš„è¿æ¥çš„æ•°é‡ï¼ˆæ‰‡å…¥ï¼‰ï¼Œ$n_{i+1}$ä¸ºä¼ å‡ºè¯¥å±‚çš„è¿æ¥çš„æ•°é‡ï¼Œä¹Ÿè¢«ç§°ä¸ºï¼ˆæ‰‡å‡ºï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">xavier</span>(<span class="params">m,h</span>):</span><br><span class="line">    <span class="keyword">return</span> numpy.random.uniform(low=-<span class="number">1</span>,high=<span class="number">1</span>,size=(m,h))*math.sqrt(<span class="number">6.</span>/(m+h))</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">xbvier</span>(<span class="params">m,h</span>):</span><br><span class="line">    <span class="keyword">return</span> numpy.random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(m,h))*math.sqrt(<span class="number">6.</span>/(m+h))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#xavieråˆå§‹åŒ–</span></span><br><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=xavier(<span class="number">512</span>,<span class="number">512</span>)</span><br><span class="line">    x=numpy.array([math.tanh(c)<span class="keyword">for</span> c <span class="keyword">in</span> a@x])</span><br><span class="line"><span class="built_in">print</span>(x.mean(), x.std())</span><br><span class="line"><span class="comment">#xavieråˆå§‹åŒ–ï¼Œä½†æ˜¯æƒé‡å¹¶éUï¼ˆ-1ï¼Œ1ï¼‰è€Œæ˜¯Nï¼ˆ0ï¼Œ1ï¼‰åˆ†å¸ƒ</span></span><br><span class="line">x1=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=xbvier(<span class="number">512</span>,<span class="number">512</span>)</span><br><span class="line">    x1=numpy.array([math.tanh(c)<span class="keyword">for</span> c <span class="keyword">in</span> a@x1])</span><br><span class="line"><span class="built_in">print</span>(x1.mean(), x1.std())</span><br><span class="line"><span class="comment">#å‡‘æ–¹å·®ä¸º1åˆå§‹åŒ–ï¼Œæƒé‡Uï¼ˆ-1ï¼Œ1ï¼‰åˆ†å¸ƒ</span></span><br><span class="line">x2=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=numpy.random.uniform(low=-<span class="number">1</span>,high=<span class="number">1</span>,size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">3.</span>/<span class="number">512</span>)</span><br><span class="line">    x2=numpy.array([math.tanh(c)<span class="keyword">for</span> c <span class="keyword">in</span> a@x2])</span><br><span class="line"><span class="built_in">print</span>(x2.mean(), x2.std())</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä»¥ä¸‹ä¸ºæ— æ¿€æ´»å‡½æ•°çš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">#xavieråˆå§‹åŒ–</span></span><br><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=xavier(<span class="number">512</span>,<span class="number">512</span>)</span><br><span class="line">    x=a@x</span><br><span class="line"><span class="built_in">print</span>(x.mean(), x.std())</span><br><span class="line"><span class="comment">#xavieråˆå§‹åŒ–ï¼Œä½†æ˜¯æƒé‡å¹¶éUï¼ˆ-1ï¼Œ1ï¼‰è€Œæ˜¯Nï¼ˆ0ï¼Œ1ï¼‰åˆ†å¸ƒ</span></span><br><span class="line">x1=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=xbvier(<span class="number">512</span>,<span class="number">512</span>)</span><br><span class="line">    x1=a@x</span><br><span class="line"><span class="built_in">print</span>(x1.mean(), x1.std())</span><br><span class="line"><span class="comment">#å‡‘æ–¹å·®ä¸º1åˆå§‹åŒ–ï¼Œæƒé‡Uï¼ˆ-1ï¼Œ1ï¼‰åˆ†å¸ƒ</span></span><br><span class="line">x2=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=numpy.random.uniform(low=-<span class="number">1</span>,high=<span class="number">1</span>,size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">3.</span>/<span class="number">512</span>)</span><br><span class="line">    x2=numpy.array([math.tanh(c)<span class="keyword">for</span> c <span class="keyword">in</span> a@x2])</span><br><span class="line"><span class="built_in">print</span>(x2.mean(), x2.std())</span><br></pre></td></tr></table></figure>
<pre><code>-0.0011354134828090012 0.06322324251617281
-0.04347840333790784 0.6898032256032508
-0.0025500434343385574 0.04863383928260507
-0.016140350889364705 0.7301846105693588
-0.08559922112658865 1.341156944469779
0.000651830089541752 0.09598924410829489
</code></pre><p>æ­¤æ—¶å¯¹äºæƒå€¼åˆå§‹åŒ–$U(-1,1)$çš„æƒ…å†µï¼ŒXavieråˆå§‹åŒ–è¡¨ç°è‰¯å¥½ã€‚<br>æ•°å­¦ä¸Šå¾ˆç®€å•ï¼Œæ­¤æ—¶$\pm\frac{\sqrt{6}}{\sqrt{n_i+n_{i+1}}}=\pm\frac{\sqrt{3<em>2}}{\sqrt{512</em>2}}$ï¼Œå³$\frac{\sqrt{3}}{\sqrt{512}}$ï¼Œç­‰ä»·äºä»¤æ–¹å·®ä¸º1/3ï¼Œå‡å€¼ä¸º0ï¼Œä»ï¼ˆ-1ï¼Œ1ï¼‰å‡åŒ€å–å€¼ï¼Œ512ä¸ªæ•°æ®çš„Xå¯¹åº”çš„a@xï¼ˆæˆ–è€…è¯´ ğ‘Šğ‘‡ğ‘‹ ï¼‰çš„æ–¹å·®ä¸º1ã€‚</p>
<p><strong>ä»¥ä¸Šå†…å®¹å¯¹æœ‰æ— æ¿€æ´»å‡½æ•°æƒ…å†µä¸‹ï¼šxavieråˆå§‹åŒ–å¯¹æƒé‡Uï¼ˆ-1ï¼Œ1ï¼‰åˆ†å¸ƒã€Nï¼ˆ0ï¼Œ1ï¼‰åˆ†å¸ƒã€å‡‘æ–¹å·®1åˆå§‹åŒ–è¿›è¡Œäº†æ¯”è¾ƒã€‚</strong></p>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><ol>
<li>æœ‰æ¿€æ´»å‡½æ•°æ—¶æ–¹å·®ä¼ é€’æ•ˆæœæ¯”æ— æ¿€æ´»å‡½æ•°æ—¶è¾ƒå¼±ï¼Œæ¨æµ‹åŸå› åœ¨äºtanhxè¿™ä¸€æ¿€æ´»å‡½æ•°æœ¬èº«ç‰¹æ€§é™åˆ¶äº†æ–¹å·®ä¼ é€’</li>
<li>xavieråˆå§‹åŒ–å¯¹æƒé‡Nï¼ˆ0ï¼Œ1ï¼‰åˆ†å¸ƒç›¸è¾ƒäºUï¼ˆ-1ï¼Œ1ï¼‰åˆ†å¸ƒï¼Œç†è®ºä¸Šæ¯å±‚æ–¹å·®å˜åŒ–åˆ†åˆ«ä¸º3ã€1ï¼Œç»“æœä¸Šç¡®å®å¯ä»¥è§‚æµ‹åˆ°æœ€ç»ˆæƒé‡Nï¼ˆ0ï¼Œ1ï¼‰åˆ†å¸ƒå¼•å‡ºçš„x1çš„æ–¹å·®è¾ƒå¤§ï¼Œä½†å¹¶æœªåœ¨100å±‚ä¼ é€’ä¸‹å‡ºç°çˆ†ç‚¸ï¼ˆ10000å±‚ä¹Ÿä¸ä¼šï¼‰ã€‚<br><strong>æ–¹å·®å‡‘1æ³•ä»éœ€ç»§ç»­è®¨è®º</strong></li>
</ol>
<p><strong>Xavieræ–¹æ³•çš„é€‚ç”¨æ¡ä»¶ï¼š</strong></p>
<ol>
<li>æƒé‡Uï¼ˆ-1ï¼Œ1ï¼‰åˆ†å¸ƒã€‚<br>2.æ¿€æ´»å‡½æ•°ä¸ºé¥±å’Œæ¿€æ´»å‡½æ•°ã€‚</li>
<li>ç½‘ç»œå±‚ä¸ºå‰é¦ˆå…¨è¿æ¥ç¥ç»ç½‘ç»œå±‚ã€‚ï¼ˆåº”è¯¥å§ï¼‰</li>
</ol>
<p><img src="https://ivel-Li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/Xavierçš„æå‡.png" alt="image"></p>
<p>ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼ŒGlorotå’ŒBengioè¯æ˜ï¼Œä½¿ç”¨Xavieråˆå§‹åŒ–çš„ç½‘ç»œåœ¨CIFAR-10å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸Šå®ç°äº†æ›´å¿«çš„æ”¶æ•›é€Ÿåº¦å’Œæ›´é«˜çš„å‡†ç¡®æ€§ã€‚</p>
<p><strong>Kaimingåˆå§‹åŒ–ï¼ˆheåˆå§‹åŒ–ï¼‰</strong></p>
<p>ä»æ¦‚å¿µä¸Šè®²ï¼Œå½“ä½¿ç”¨å…³äº0å¯¹ç§°ä¸”åœ¨[-1,1]å†…éƒ¨æœ‰è¾“å‡º(å¦‚softsignå’Œtanh)çš„æ¿€æ´»å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æ¯ä¸ªå±‚çš„æ¿€æ´»è¾“å‡ºçš„å¹³å‡å€¼ä¸º0ï¼Œå¹³å‡æ ‡å‡†åå·®ä¸º1ï¼Œè¿™æ˜¯æœ‰æ„ä¹‰çš„,è¿™ä¹Ÿæ­£æ˜¯Xavieræ‰€æ”¯æŒçš„ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨ReLUæ¿€æ´»å‡½æ•°å‘¢ï¼Ÿä»¥åŒæ ·çš„æ–¹å¼ç¼©æ”¾éšæœºåˆå§‹æƒé‡å€¼æ˜¯å¦ä»ç„¶æœ‰æ„ä¹‰ï¼Ÿ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">relu</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x)): </span><br><span class="line">        temp=numpy.array([x[i],<span class="number">0</span>])</span><br><span class="line">        x[i]=temp.<span class="built_in">max</span>()</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">mean, var=<span class="number">0.</span>,<span class="number">0.</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>))</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))</span><br><span class="line">    y=relu(a@x)</span><br><span class="line">    mean+=y.mean().item()</span><br><span class="line">    var+=numpy.multiply(y,y).mean().item()</span><br><span class="line">mean/<span class="number">1000</span>,math.sqrt(var/<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(9.048598009365435, 16.032879062442056)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">math.sqrt(<span class="number">512</span>/<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>16.0
</code></pre><p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼ŒRELUæ¿€æ´»æ—¶yçš„æ ‡å‡†å·®å¯ç›´æ¥è®¡ç®—ï¼Œ$D(Y)=\frac{\sqrt{512}}{\sqrt{2}}$,<strong>å³æ¿€æ´»å‡½æ•°RELUå°†ä½¿æ ‡å‡†å·®ç¼©å°$\frac{1}{\sqrt{2}}$ã€‚</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mean, var=<span class="number">0.</span>,<span class="number">0.</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>))</span><br><span class="line">    a=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=(<span class="number">512</span>,<span class="number">512</span>))*math.sqrt(<span class="number">2</span>/<span class="number">512</span>)</span><br><span class="line">    y=relu(a@x)</span><br><span class="line">    mean+=y.mean().item()</span><br><span class="line">    var+=numpy.multiply(y,y).mean().item()</span><br><span class="line">mean/<span class="number">1000</span>,math.sqrt(var/<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<p>ä½¿æ¯ä¸ªåˆå§‹åŒ–æƒé‡ä¹˜$\frac{\sqrt{2}}{\sqrt{512}}$ï¼Œä¿æŒæ¿€æ´»å±‚æ ‡å‡†å·®åœ¨1å·¦å³ã€‚</p>
<p><img src="https://ivel-Li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/Heåˆå§‹åŒ–ç­–ç•¥.png" alt="image"></p>
<p><strong>ä¸ªäººç†è§£ï¼š$\sqrt{n}$ä»£è¡¨æ­£æ€åˆ†å¸ƒæƒå€¼çŸ©é˜µç»´åº¦çš„å½±å“ï¼Œ$\sqrt{2}$ä»£è¡¨Reluæ¿€æ´»å‡½æ•°çš„å½±å“</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### è¡¨ç¤ºæ‰‡å…¥æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">kaiming</span>(<span class="params">m,h</span>):</span><br><span class="line">    <span class="keyword">return</span> numpy.random.normal(loc=<span class="number">0</span>,scale=<span class="number">1</span>,size=(m,h))*math.sqrt(<span class="number">2.</span>/h)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">kaiming1</span>(<span class="params">m,h</span>):</span><br><span class="line">    <span class="keyword">return</span> numpy.random.normal(loc=<span class="number">0</span>,scale=<span class="number">2</span>,size=(m,h))*math.sqrt(<span class="number">2.</span>/h)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">kaiming2</span>(<span class="params">m,h</span>):</span><br><span class="line">    <span class="keyword">return</span> numpy.random.uniform(low=-<span class="number">1</span>,high=<span class="number">1</span>,size=(m,h))*math.sqrt(<span class="number">2.</span>/h)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=kaiming(<span class="number">512</span>,<span class="number">512</span>)</span><br><span class="line">    x=relu(a@x)</span><br><span class="line"><span class="built_in">print</span>(x.mean(), x.std())</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=xavier(<span class="number">512</span>,<span class="number">512</span>)</span><br><span class="line">    x=relu(a@x)</span><br><span class="line"><span class="built_in">print</span>(x.mean(), x.std())</span><br><span class="line"></span><br><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=kaiming1(<span class="number">512</span>,<span class="number">512</span>)</span><br><span class="line">    x=relu(a@x)</span><br><span class="line"><span class="built_in">print</span>(x.mean(), x.std())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x=random.normal(loc=<span class="number">0</span>, scale=<span class="number">1</span>, size=<span class="number">512</span>)<span class="comment">#å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼Œ512ä¸ªæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    a=kaiming2(<span class="number">512</span>,<span class="number">512</span>)</span><br><span class="line">    x=relu(a@x)</span><br><span class="line"><span class="built_in">print</span>(x.mean(), x.std())</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œå¯¹äºReLUæ¿€æ´»å‡½æ•°,ä½¿ç”¨Xavieråˆå§‹åŒ–å°†å¯¼è‡´æ¿€æ´»è¾“å‡ºåœ¨100å±‚å‡ ä¹æ¶ˆå¤±ã€‚</p>
<p>å¯¹äºä¸èƒ½ä½¿åˆå§‹æƒé‡æ–¹å·®ä¸º1çš„æƒ…å†µï¼Œå¦‚$U(-1,1)ã€N(0,2)$ï¼Œå¦‚æ­¤æ–¹æ³•è¡¨ç°å¹¶ä¸ä½³ï¼Œå³<strong>æ–¹å·®å‡‘1ä¾æ—§ååˆ†é‡è¦</strong></p>
<p><img src="https://ivel-Li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/å¯¹æ¯”x&amp;h.png" alt="image"></p>
<p><strong>Kaimingæ–¹æ³•çš„é€‚ç”¨æ¡ä»¶ï¼š</strong></p>
<ol>
<li>æƒé‡Nï¼ˆ0ï¼Œ1ï¼‰åˆ†å¸ƒï¼ˆæ–¹å·®ä¸º1ï¼‰ã€‚<br>2.æ¿€æ´»å‡½æ•°ä¸ºéé¥±å’Œæ¿€æ´»å‡½æ•°ReLUã€‚</li>
<li>ç½‘ç»œå±‚ä¸ºå‰é¦ˆå…¨è¿æ¥ç¥ç»ç½‘ç»œå±‚ã€‚ï¼ˆåº”è¯¥å§ï¼‰</li>
</ol>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol>
<li><p>æ ¸å¿ƒï¼šæ–¹å·®å‡‘1</p>
</li>
<li><p>æ¿€æ´»å‡½æ•°ï¼ˆå¤æ‚çš„æ¿€æ´»å‡½æ•°æ— æ³•è®¡ç®—ï¼‰ï¼š</p>
</li>
</ol>
<p>&emsp;&emsp;<strong>2.1 tanh()&amp;Sigmoid() =&gt; Xavieråˆå§‹åŒ–æ–¹æ³•ï¼šæƒé‡Uï¼ˆ-1ï¼Œ1ï¼‰åˆ†å¸ƒ$*\frac{\sqrt{6}}{\sqrt{n_i+n_{i+1}}}$</strong></p>
<p>&emsp;&emsp;<strong>2.2 ReLU() =&gt; kaimingåˆå§‹åŒ–æ–¹æ³•ï¼šæƒé‡Nï¼ˆ-1ï¼Œ1ï¼‰åˆ†å¸ƒ$*\frac{\sqrt{2}}{\sqrt{n}}$</strong></p>
<p><strong>æ­¤å¤–ä¸Šè¿°æ–¹æ³•ç†è®ºä¸Šåœ¨å‰é¦ˆå…¨è¿æ¥å±‚è¾ƒä¸ºé€‚ç”¨</strong></p>
<p>å®ç”¨è¯­æ³•ï¼š</p>
<ol>
<li>x.item():å–å‡ºè¾ƒxç›´æ¥ç´¢å¼•ã€ç²¾åº¦æ›´é«˜çš„å€¼</li>
<li>numpy.random.normal(loc=0,scale=1,size=(m,h)): m*hçŸ©é˜µï¼Œ å…ƒç´ ä¸ºN(0,1)æ­£æ€åˆ†å¸ƒã€‚</li>
<li>numpy.random.uniform(low=-1,high=1,size=(m,h)): m*hçŸ©é˜µï¼Œ å…ƒç´ ä¸ºU(-1,1)å‡åŒ€åˆ†å¸ƒã€‚</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ivel-li.github.io/2024/11/21/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%97%AE%E9%A2%98/" data-id="cm3x4d3j0000dg8uu0qynczg9" data-title="ç¥ç»ç½‘ç»œåˆå§‹åŒ–é—®é¢˜" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="https://ivel-li.github.io/2024/11/21/%E5%A4%A7%E7%AC%A8%E7%8C%AA%E5%90%8D%E5%8D%95/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          å¤§ç¬¨çŒªåå•
        
      </div>
    </a>
  
  
    <a href="https://ivel-li.github.io/2024/11/21/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
  
    <script>
      var assetsString = '<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" rel="stylesheet" type="text/css">'
      var pHead = document.getElementsByTagName('head')[0];
      pHead.innerHTML = pHead.innerHTML + assetsString;
    </script>
  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="https://ivel-li.github.io/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">æ·±åº¦å­¦ä¹ </a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="https://ivel-li.github.io/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA%E4%B8%8Etrick/">ç½‘ç»œåŸºç¡€ç†è®ºä¸trick</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="https://ivel-li.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E7%BD%91%E7%BB%9C/">è®¡ç®—æœºç§‘å­¦ç½‘ç»œ</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="https://ivel-li.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E7%BD%91%E7%BB%9C/%E5%AE%9E%E7%94%A8%E7%9F%A5%E8%AF%86%E4%B8%8E%E5%B7%A5%E5%85%B7/">å®ç”¨çŸ¥è¯†ä¸å·¥å…·</a></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="https://ivel-li.github.io/archives/2024/11/">November 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://ivel-li.github.io/2024/11/25/%E7%AB%AF%E5%8F%A3%E6%98%AF%E4%BB%80%E4%B9%88/">ç«¯å£æ˜¯ä»€ä¹ˆ</a>
          </li>
        
          <li>
            <a href="https://ivel-li.github.io/2024/11/25/IP%E6%98%AF%E4%BB%80%E4%B9%88/">IPæ˜¯ä»€ä¹ˆ</a>
          </li>
        
          <li>
            <a href="https://ivel-li.github.io/2024/11/25/Github%E4%BD%BF%E7%94%A8%E4%B8%8E%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86%EF%BC%88Git%E4%B8%8E%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E7%9A%84Github%E4%BB%93%E5%BA%93%EF%BC%89/">Githubä½¿ç”¨ä¸èƒŒæ™¯çŸ¥è¯†ï¼ˆGitä¸å»ºç«‹è‡ªå·±çš„Githubä»“åº“ï¼‰</a>
          </li>
        
          <li>
            <a href="https://ivel-li.github.io/2024/11/25/ssh%E6%A6%82%E8%BF%B0/">sshæ¦‚è¿°</a>
          </li>
        
          <li>
            <a href="https://ivel-li.github.io/2024/11/21/%E5%A4%A7%E7%AC%A8%E7%8C%AA%E5%90%8D%E5%8D%95/">å¤§ç¬¨çŒªåå•</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="https://ivel-li.github.io/" class="mobile-nav-link">Home</a>
  
    <a href="https://ivel-li.github.io/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="https://ivel-li.github.io/js/jquery-3.6.4.min.js"></script>



  
<script src="https://ivel-li.github.io/fancybox/jquery.fancybox.min.js"></script>




<script src="https://ivel-li.github.io/js/script.js"></script>





  </div>
<!-- hexo injector body_end start --><script data-pjax src="https://registry.npmmirror.com/oh-my-live2d/latest/files"></script><script>const oml2d = OML2D.loadOml2d({libraryUrls:{"complete":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/complete.js","cubism2":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism2.js","cubism5":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism5.js"},mobileDisplay:true,models:[{"path":"https://model.oml2d.com/koharu/model.json","mobilePosition":[0,0],"mobileScale":0.1,"mobileStageStyle":{"width":180,"height":166},"motionPreloadStrategy":"IDLE","position":[0,0],"scale":0.12,"stageStyle":{"width":250,"height":250}},{"path":"https://model.oml2d.com/HK416-2-destroy/model.json","scale":0.12,"position":[0,0],"stageStyle":{"width":250},"mobileScale":0.08,"mobilePosition":[0,0],"mobileStageStyle":{"width":180}},{"path":"https://model.oml2d.com/rem_2/model.json","scale":0.12,"position":[0,220],"mobileScale":0.08,"mobilePosition":[-5,5],"mobileStageStyle":{"width":180},"stageStyle":{"width":250}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:false,tips:{style: {"width":230,"height":120,"left":"calc(50% - 20px)","top":"-100px"},mobileStyle: {"width":180,"height":80,"left":"calc(50% - 30px)","top":"-100px"},idleTips:{interval:15000,message:function(){
  return axios.get('https://v1.hitokoto.cn?c=i')
    .then(function (response) {
      return response.data.hitokoto ;
    })
    .catch(function (error) {
      console.error(error);
    });
}
}}});</script><!-- hexo injector body_end end --></body>
</html>